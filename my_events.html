<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Registered Events</title>
    <style>
        body { font-family: sans-serif; margin: 0; background-color: #f9f9f9; }
        header { background-color: #e11f1f; color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        header h1 { margin: 0; font-size: 1.5rem; }
        .user-actions { display: flex; align-items: center; gap: 1rem; }
        .user-actions a { color: white; text-decoration: none; padding: 0.5rem 1rem; border-radius: 4px; }
        .user-actions span { margin-right: 0.5rem; }
        .container { max-width: 960px; margin: 2rem auto; padding: 0 1rem; }
        .main-heading { text-align: center; color: #333; }
        .event-card { background: #fff; padding: 1.5rem; margin-bottom: 1rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .category-tag { background-color: #e9ecef; color: #495057; padding: 0.2em 0.6em; border-radius: 10px; font-size: 0.8em; }
        a { color: #007bff; text-decoration: none; }
        .back-link { display: inline-block; margin-bottom: 2rem; font-weight: bold; }
    .button {
    display: inline-block;
    margin-top: 1rem;
    padding: 0.6rem 1.2rem;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    border: none;
    cursor: pointer;
}
.unregister-btn {
    background-color: #dc3545; /* Red color for this page */
}
.unregister-btn:hover {
    background-color: #c82333;
}
    </style>
</head>
<body>

    <header>
        <h1>IPS Academy</h1>
        <div class="user-actions">
            <a href="{{ url_for('contact') }}">Contact Us</a>
            {% if current_user.is_authenticated %}
                <span>Hello, {{ current_user.username }}!</span>
                <a href="{{ url_for('my_events') }}">My Events</a>
                <a href="{{ url_for('feedback') }}">Feedback</a>
                <a href="{{ url_for('logout') }}">Logout</a>
            {% else %}
                <a href="{{ url_for('login') }}">Login</a>
                <a href="{{ url_for('register') }}">Register</a>
            {% endif %}
        </div>
    </header>

    <div class="container">
        <h1 class="main-heading">My Registered Events</h1>
        <a href="{{ url_for('index') }}" class="back-link">&larr; Back to All Events</a>
        
        {% if events %}
            {% for event in events %}
                <div class="event-card">
                    <h3>{{ event.name }}</h3>
                    <p><strong>Date:</strong> {{ event.date }} at {{ event.time or 'TBD' }}</p>
                    <p><strong>Location:</strong> {{ event.location or 'Online' }}</p>
                    <p><strong>Category:</strong> <span class="category-tag">{{ event.category }}</span></p>
                    <p>{{ event.description }}</p>
                <a href="{{ url_for('unregister_event', event_id=event.id) }}" class="button unregister-btn">Unregister</a>
                </div>
            {% endfor %}
        {% else %}
            <p>You have not registered for any events yet.</p>
        {% endif %}
    </div>
</body>
</html>